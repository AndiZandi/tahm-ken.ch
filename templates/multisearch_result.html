{% extends "layout.html" %}
{% set active_page = "multisearch" %}
{% block title %}Multisearch{% endblock %}
{% block main %}
    <div class="container">
        {% if error %}<div class="text-danger">{{ error }}</div>{% endif %}
        <h1>Multisearch</h1>
        <table id="results" class="w-100">
            <tr>
                <th colspan="3">Summoner</th>
                <th colspan="25">Challenges</th>
            </tr>
            {% for id, summoner_challenges_info in summoners_challenges_info.items() %}
                <tr>
                    <td>{{ summoner_challenges_info['summoner']['name'] }}</td>
                    <td>
                        <img height="50px"
                             src="https://raw.communitydragon.org/latest/game/assets/ux/summonericons/profileicon{{ summoner_challenges_info['summoner']['profileIconId'] }}.png">
                    </td>
                    <td>
                        <img height="50px"
                             src="/static/img/challengecrystal/{{ summoner_challenges_info['total_points']['level'] }}.ls_c2.png"
                             alt="{{ summoner_challenges_info['total_points']['level'].lower()}}">
                    </td>
                    {% for challenge_id, challenge in summoner_challenges_info["summoner_challenges"].items() %}
                        <td>
                            <img src="https://raw.communitydragon.org/latest/game/assets/challenges/config/{{ challenge_id }}/tokens/{{ challenge['level'] }}.png"
                                 height="40px">
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>
        <p class="mt-3 text-info">Recommendations: coming soon!</p>
    </div>
{% endblock %}
